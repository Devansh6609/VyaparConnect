(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[185],{3078:function(e,t,r){Promise.resolve().then(r.t.bind(r,3564,23)),Promise.resolve().then(r.t.bind(r,9700,23)),Promise.resolve().then(r.t.bind(r,3054,23)),Promise.resolve().then(r.bind(r,6274)),Promise.resolve().then(r.bind(r,1982))},994:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,r(8030).Z)("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]])},6274:function(e,t,r){"use strict";r.d(t,{default:function(){return D}});var a=r(7437),s=r(2265),n=r(7138),i=r(6463),l=r(998),o=r(9788);let c=[{href:"/settings",label:"Settings",icon:"settings"},{href:"/profile",label:"Profile",icon:"user"}];var d=()=>{let e=(0,i.usePathname)(),{data:t}=(0,l.useSession)();if(!t)return null;let r=[{href:"/orders",label:"Orders",icon:"package"},{href:"/quotations",label:"Quotations",icon:"fileText"}];"QUOTATION_FOCUSED"===t.user.primaryWorkflow&&r.reverse();let s=[{href:"/",label:"Dashboard",icon:"layoutDashboard"},{href:"/chat",label:"Chats",icon:"messageCircle"},...r,{href:"/broadcasts",label:"Broadcasts",icon:"radio"},{href:"/groups",label:"Groups",icon:"users"}],d=t.user.primaryWorkflow;return(0,a.jsxs)("aside",{className:"w-20 bg-white dark:bg-[var(--card-background)] border-r border-gray-200 dark:border-[var(--card-border)] flex flex-col items-center py-4",children:[(0,a.jsx)("div",{className:"p-2 mb-4",children:(0,a.jsx)("div",{className:"w-10 h-10 bg-blue-600 rounded-lg flex items-center justify-center text-white font-bold text-xl",children:"V"})}),(0,a.jsx)("nav",{className:"flex flex-col items-center space-y-2 flex-1",children:s.map(t=>{let r=e===t.href,s=!1;return("/orders"===t.href&&"QUOTATION_FOCUSED"===d&&(s=!0),"/quotations"===t.href&&"ORDER_FOCUSED"===d&&(s=!0),s)?(0,a.jsxs)("div",{className:"flex flex-col items-center justify-center w-16 h-16 rounded-lg text-gray-400 dark:text-gray-500 cursor-not-allowed opacity-60",title:"".concat(t.label," (Disabled in this workspace)"),children:[(0,a.jsx)(o.Z,{name:t.icon,size:24}),(0,a.jsx)("span",{className:"text-[10px] mt-1",children:t.label})]},t.href):(0,a.jsxs)(n.default,{href:t.href,className:"flex flex-col items-center justify-center w-16 h-16 rounded-lg transition-colors duration-200 ".concat(r?"bg-blue-100 text-blue-600 dark:bg-[var(--incoming-bubble-bg)] dark:text-blue-400":"text-gray-500 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-700 hover:text-gray-800 dark:hover:text-gray-200"),title:t.label,children:[(0,a.jsx)(o.Z,{name:t.icon,size:24}),(0,a.jsx)("span",{className:"text-[10px] mt-1",children:t.label})]},t.href)})}),(0,a.jsxs)("div",{className:"flex flex-col items-center space-y-2",children:[c.map(t=>{let r=e===t.href;return(0,a.jsxs)(n.default,{href:t.href,className:"flex flex-col items-center justify-center w-16 h-16 rounded-lg transition-colors duration-200 ".concat(r?"bg-blue-100 text-blue-600 dark:bg-[var(--incoming-bubble-bg)] dark:text-blue-400":"text-gray-500 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-700 hover:text-gray-800 dark:hover:text-gray-200"),title:t.label,children:[(0,a.jsx)(o.Z,{name:t.icon,size:24}),(0,a.jsx)("span",{className:"text-[10px] mt-1",children:t.label})]},t.href)}),(0,a.jsxs)("button",{onClick:()=>(0,l.signOut)({callbackUrl:"/login"}),className:"flex flex-col items-center justify-center w-16 h-16 rounded-lg text-gray-500 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-700 hover:text-red-500 dark:hover:text-red-400",title:"Sign Out",children:[(0,a.jsx)(o.Z,{name:"lock",size:24}),(0,a.jsx)("span",{className:"text-[10px] mt-1",children:"Sign Out"})]})]})]})};let u=new Set,h=()=>{let[e,t]=(0,s.useState)(!1),r=(0,s.useCallback)(()=>t(e=>!e),[]);return(0,s.useEffect)(()=>{let e=e=>{"k"===e.key&&(e.metaKey||e.ctrlKey)&&(e.preventDefault(),r())},a=()=>t(!0);return u.add(a),document.addEventListener("keydown",e),()=>{u.delete(a),document.removeEventListener("keydown",e)}},[r]),{isOpen:e,setIsOpen:t}};var m=r(7524),x=r(4258),g=r(2023);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let f=(0,r(8030).Z)("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);var p=r(4697),b=r(4446),y=r(1513),v=r(1065);function j(){let{isOpen:e,setIsOpen:t}=h(),[r,n]=(0,s.useState)(""),[l,o]=(0,s.useState)([]),[c,d]=(0,s.useState)(0),u=(0,i.useRouter)(),j=(0,s.useRef)(null);(0,s.useEffect)(()=>{if(e){var t;null===(t=j.current)||void 0===t||t.focus(),w()}else n(""),d(0)},[e]);let w=async()=>{try{let[e,t]=await Promise.all([fetch("/api/contacts"),fetch("/api/products")]),{contacts:r}=await e.json(),s=await t.json(),n=(r||[]).map(e=>({id:e.id,type:"contact",name:e.name,description:e.phone,icon:(0,a.jsx)(v.Z,{initials:e.name.charAt(0),className:"w-6 h-6 text-xs"}),action:()=>u.push("/chat?contactId=".concat(e.id))})),i=(s||[]).map(e=>({id:e.id,type:"product",name:e.name,description:"â‚¹".concat(e.price),icon:(0,a.jsx)(m.Z,{size:20}),action:()=>{console.log("Selected product: ".concat(e.name))}})),l=[{id:"settings",type:"action",name:"Settings",description:"Manage application settings",icon:(0,a.jsx)(x.Z,{size:20}),action:()=>u.push("/settings")},{id:"transactions",type:"action",name:"Transactions",description:"View all transactions",icon:(0,a.jsx)(g.Z,{size:20}),action:()=>u.push("/transactions")}];o([...n,...i,...l])}catch(e){console.error("Failed to fetch command palette data",e)}},k=r?l.filter(e=>{var t;return e.name.toLowerCase().includes(r.toLowerCase())||(null===(t=e.description)||void 0===t?void 0:t.toLowerCase().includes(r.toLowerCase()))}):l;return(0,a.jsx)(b.M,{children:e&&(0,a.jsx)("div",{className:"fixed inset-0 bg-black/50 z-50 flex items-start justify-center pt-20",onClick:()=>t(!1),children:(0,a.jsxs)(y.E.div,{initial:{opacity:0,scale:.95,y:-20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.95,y:-20},transition:{duration:.2},className:"w-full max-w-xl bg-white dark:bg-gray-800 rounded-lg shadow-2xl border dark:border-gray-700 overflow-hidden",onClick:e=>e.stopPropagation(),onKeyDown:e=>{if("ArrowDown"===e.key)e.preventDefault(),d(e=>(e+1)%k.length);else if("ArrowUp"===e.key)e.preventDefault(),d(e=>(e-1+k.length)%k.length);else if("Enter"===e.key){e.preventDefault();let r=k[c];r&&(r.action(),t(!1))}},children:[(0,a.jsxs)("div",{className:"flex items-center px-4 border-b dark:border-gray-700",children:[(0,a.jsx)(f,{className:"text-gray-400"}),(0,a.jsx)("input",{ref:j,type:"text",value:r,onChange:e=>{n(e.target.value),d(0)},placeholder:"Search contacts, products, or actions...",className:"w-full bg-transparent p-4 text-gray-800 dark:text-gray-200 placeholder-gray-400 focus:outline-none"}),(0,a.jsx)("button",{onClick:()=>t(!1),className:"text-gray-500 hover:text-gray-800 dark:hover:text-gray-200",children:(0,a.jsx)(p.Z,{})})]}),(0,a.jsxs)("ul",{className:"max-h-96 overflow-y-auto p-2",children:[k.map((e,r)=>(0,a.jsxs)("li",{onClick:()=>{e.action(),t(!1)},className:"flex items-center space-x-3 p-3 rounded-md cursor-pointer ".concat(r===c?"bg-blue-50 dark:bg-gray-700":"hover:bg-gray-100 dark:hover:bg-gray-700/50"),children:[(0,a.jsx)("span",{className:"text-gray-500 dark:text-gray-400",children:e.icon}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"font-medium text-sm text-gray-800 dark:text-gray-100",children:e.name}),(0,a.jsx)("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:e.description})]})]},e.id)),0===k.length&&(0,a.jsx)("li",{className:"text-center p-4 text-sm text-gray-500",children:"No results found."})]})]})})})}var w=r(3258);let k={hidden:{opacity:0,y:-20},visible:{opacity:1,y:0,transition:{duration:.5}}},N={hidden:{},visible:{transition:{staggerChildren:.1,delayChildren:.3}}},C={hidden:{opacity:0,y:20},visible:{opacity:1,y:0}};var Z=()=>{var e;let{data:t}=(0,l.useSession)(),[r,n]=(0,s.useState)(null),[i,c]=(0,s.useState)(""),d=async e=>{n(e),c("");try{let t=await fetch("/api/user/onboarding",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({workflowType:e})});if(!t.ok){let e=await t.json();throw Error(e.error||"Failed to save preference.")}window.location.reload()}catch(e){c(e.message),n(null)}};return(0,a.jsx)("div",{className:"fixed inset-0 bg-gray-50 dark:bg-gray-900 z-50 flex items-center justify-center",children:(0,a.jsxs)("div",{className:"text-center p-8 max-w-4xl mx-auto",children:[(0,a.jsxs)(y.E.div,{variants:k,initial:"hidden",animate:"visible",children:[(0,a.jsxs)("h1",{className:"text-3xl md:text-4xl font-bold text-gray-800 dark:text-gray-100",children:["Welcome, ",null==t?void 0:null===(e=t.user)||void 0===e?void 0:e.name,"!"]}),(0,a.jsx)("p",{className:"mt-2 text-lg text-gray-500 dark:text-gray-400",children:"Let's personalize your workspace. How do you primarily run your business?"})]}),i&&(0,a.jsx)("p",{className:"mt-4 text-red-500 bg-red-100 p-3 rounded-md",children:i}),r?(0,a.jsx)(w.Z,{}):(0,a.jsxs)(y.E.div,{className:"mt-10 grid grid-cols-1 md:grid-cols-3 gap-6",variants:N,initial:"hidden",animate:"visible",children:[(0,a.jsxs)(y.E.button,{onClick:()=>d("QUOTATION_FOCUSED"),variants:C,whileHover:{y:-5},className:"p-8 bg-white dark:bg-gray-800 rounded-xl shadow-md border dark:border-gray-700 hover:shadow-lg hover:border-blue-500 transition-all text-left",children:[(0,a.jsx)(o.Z,{name:"FileText",size:32,className:"text-green-500"}),(0,a.jsx)("h3",{className:"mt-4 font-bold text-lg",children:"Quotations First"}),(0,a.jsx)("p",{className:"mt-1 text-sm text-gray-500 dark:text-gray-400",children:"I sell custom goods or high-value services and need to send estimates."})]}),(0,a.jsxs)(y.E.button,{onClick:()=>d("ORDER_FOCUSED"),variants:C,whileHover:{y:-5},className:"p-8 bg-white dark:bg-gray-800 rounded-xl shadow-md border dark:border-gray-700 hover:shadow-lg hover:border-blue-500 transition-all text-left",children:[(0,a.jsx)(o.Z,{name:"Package",size:32,className:"text-orange-500"}),(0,a.jsx)("h3",{className:"mt-4 font-bold text-lg",children:"Orders First"}),(0,a.jsx)("p",{className:"mt-1 text-sm text-gray-500 dark:text-gray-400",children:"I sell standard products at fixed prices, like food items or small goods."})]}),(0,a.jsxs)(y.E.button,{onClick:()=>d("HYBRID"),variants:C,whileHover:{y:-5},className:"p-8 bg-white dark:bg-gray-800 rounded-xl shadow-md border dark:border-gray-700 hover:shadow-lg hover:border-blue-500 transition-all text-left",children:[(0,a.jsx)(o.Z,{name:"Combine",size:32,className:"text-purple-500"}),(0,a.jsx)("h3",{className:"mt-4 font-bold text-lg",children:"Hybrid Model"}),(0,a.jsx)("p",{className:"mt-1 text-sm text-gray-500 dark:text-gray-400",children:"I do a mix of both! Show me both Quotations and Orders with equal importance."})]})]})]})})},S=r(4127),E=()=>{let{openModal:e}=(0,S.K)();return(0,a.jsx)(y.E.button,{onClick:e,className:"fixed bottom-6 right-6 w-14 h-14 bg-blue-600 rounded-full text-white flex items-center justify-center shadow-lg z-40",whileHover:{scale:1.1,rotate:15},whileTap:{scale:.9},"aria-label":"Open Vyapar AI Assistant",title:"Vyapar AI",children:(0,a.jsx)(o.Z,{name:"sparkles",size:28})})},_=r(7164),O=r(3274),I=r(994);let z=["Summarize today's sales","Who are my top customers this month?","Show me pending payments"];var P=()=>{let{isOpen:e,closeModal:t}=(0,S.K)(),[r,n]=(0,s.useState)([]),[l,c]=(0,s.useState)(""),[d,u]=(0,s.useState)(!1),[h,m]=(0,s.useState)(null),x=(0,i.useRouter)(),g=(0,s.useRef)(null),f=e=>{let{content:t}=e;return(0,a.jsx)("div",{className:"text-sm text-inherit leading-relaxed space-y-1",children:t.split("\n").map((e,t)=>{if(e.startsWith("### "))return(0,a.jsx)("h4",{className:"font-semibold text-base mt-3 mb-1",children:e.substring(4)},t);if(e.trim().startsWith("|")&&e.trim().endsWith("|"))return(0,a.jsx)("p",{className:"font-mono text-xs whitespace-pre",children:e},t);let r=!1;e.startsWith("* ")&&(r=!0,e=e.substring(2));let n=e.split("**").map((e,t)=>t%2==1?(0,a.jsx)("strong",{className:"font-semibold",children:e},t):(0,a.jsx)(s.Fragment,{children:e},t));return r?(0,a.jsxs)("div",{className:"flex items-start",children:[(0,a.jsx)("span",{className:"mr-2 mt-1",children:"â€¢"}),(0,a.jsx)("p",{className:"flex-1",children:n})]},t):""===e.trim()?(0,a.jsx)("div",{className:"h-2"},t):(0,a.jsx)("p",{children:n},t)})})},p=()=>{var e;null===(e=g.current)||void 0===e||e.scrollIntoView({behavior:"smooth"})};(0,s.useEffect)(()=>{p()},[r]),(0,s.useEffect)(()=>{e&&0===r.length&&n([{role:"assistant",content:"Hello! I'm Vyapar AI. How can I help you with your business today?"}]),e||m(null)},[e,r.length]);let v=(e,t)=>{let r=new Blob([t],{type:"text/csv;charset=utf-8;"}),a=document.createElement("a");if(void 0!==a.download){let t=URL.createObjectURL(r);a.setAttribute("href",t),a.setAttribute("download",e),a.style.visibility="hidden",document.body.appendChild(a),a.click(),document.body.removeChild(a)}},j=async()=>{if(h){u(!0),n(e=>[...e,{role:"assistant",content:"Okay, preparing a broadcast for customers with tags: ".concat(h.tags.join(", "),".")}]);try{let e=await fetch("/api/tags");if(!e.ok)throw Error("Could not fetch customer tags.");let t=(await e.json()).filter(e=>h.tags.some(t=>t.toLowerCase()===e.name.toLowerCase())).map(e=>e.id);if(0===t.length)throw Error("I couldn't find any tags matching the names provided.");let r=await fetch("/api/broadcasts",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({tagIds:t,message:h.message,templateId:"ai_generated"})});if(!r.ok){let e=await r.json();throw Error(e.error||"Broadcast failed to send.")}let a=await r.json();n(e=>[...e,{role:"assistant",content:"Success! The broadcast is being sent to ".concat(a.recipients.length," recipients.")}])}catch(e){n(t=>[...t,{role:"assistant",content:"I'm sorry, something went wrong: ".concat(e.message)}])}finally{m(null),u(!1)}}},w=async e=>{let a=e||l;if(!a.trim())return;m(null);let s=[...r,{role:"user",content:a}];n(s),c(""),u(!0);try{let e=await fetch("/api/ai/vyapar-ai",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({history:s})});if(!e.ok){let t=await e.json();throw Error(t.error||"Something went wrong.")}let r=await e.json();if("navigate"===r.type){x.push(r.page),t();return}if("confirm_broadcast"===r.type){m({tags:r.tags,message:r.message}),u(!1);return}let a=[];r.text&&a.push({role:"assistant",content:r.text,type:"text"}),"export_ready"===r.type&&a.push({role:"assistant",content:"I've prepared the data you requested.",type:"export_ready",fileName:r.fileName,data:r.data}),n([...s,...a])}catch(e){console.error("Vyapar AI Error:",e),n([...s,{role:"assistant",content:"I'm sorry, I'm having trouble connecting right now. Please try again in a moment."}])}finally{u(!1)}};return(0,a.jsx)(b.M,{children:e&&(0,a.jsx)("div",{className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4",children:(0,a.jsxs)(y.E.div,{initial:{opacity:0,scale:.9,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.9,y:20},transition:{duration:.3,ease:"easeOut"},className:"w-full max-w-2xl h-[80vh] bg-white dark:bg-gray-800 rounded-lg shadow-2xl border dark:border-gray-700 flex flex-col",children:[(0,a.jsxs)("header",{className:"p-4 border-b dark:border-gray-700 flex justify-between items-center flex-shrink-0",children:[(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)(o.Z,{name:"sparkles",className:"text-blue-500"}),(0,a.jsx)("h2",{className:"text-lg font-semibold ml-2",children:"Vyapar AI"})]}),(0,a.jsx)("button",{onClick:t,className:"p-1 rounded-full hover:bg-gray-100 dark:hover:bg-gray-700",children:(0,a.jsx)(o.Z,{name:"x",size:20})})]}),(0,a.jsxs)("main",{className:"flex-1 overflow-y-auto p-4 space-y-4",children:[r.map((e,t)=>(0,a.jsx)("div",{className:"flex ".concat("user"===e.role?"justify-end":"justify-start"),children:(0,a.jsxs)("div",{className:"max-w-md p-3 rounded-lg ".concat("user"===e.role?"bg-blue-500 text-white":"bg-gray-100 dark:bg-gray-700"),children:["user"===e.role?(0,a.jsx)("p",{className:"text-sm whitespace-pre-wrap",children:e.content}):(0,a.jsx)(f,{content:e.content}),"export_ready"===e.type&&e.fileName&&e.data&&(0,a.jsxs)("button",{onClick:()=>v(e.fileName,e.data),className:"mt-2 flex items-center text-sm bg-green-600 text-white font-semibold px-3 py-1.5 rounded-md hover:bg-green-700",children:[(0,a.jsx)(_.Z,{size:16,className:"mr-2"})," Download as CSV"]})]})},t)),d&&!h&&(0,a.jsx)("div",{className:"flex justify-start",children:(0,a.jsx)("div",{className:"max-w-md p-3 rounded-lg bg-gray-100 dark:bg-gray-700 flex items-center",children:(0,a.jsx)(O.Z,{className:"animate-spin text-blue-500",size:20})})}),(0,a.jsx)("div",{ref:g})]}),(0,a.jsx)("footer",{className:"p-4 border-t dark:border-gray-700 flex-shrink-0",children:h?(0,a.jsxs)("div",{className:"p-4 bg-blue-50 dark:bg-gray-700 rounded-lg",children:[(0,a.jsx)("h4",{className:"font-semibold",children:"Confirm Broadcast"}),(0,a.jsxs)("p",{className:"text-sm mt-1",children:["Send this message to customers with tags: ",(0,a.jsx)("strong",{children:h.tags.join(", ")}),"?"]}),(0,a.jsxs)("blockquote",{className:"mt-2 p-2 border-l-4 text-sm italic bg-white dark:bg-gray-600",children:['"',h.message,'"']}),(0,a.jsxs)("div",{className:"flex justify-end gap-2 mt-3",children:[(0,a.jsx)("button",{onClick:()=>m(null),disabled:d,className:"px-3 py-1.5 text-sm border rounded-md",children:"Cancel"}),(0,a.jsxs)("button",{onClick:j,disabled:d,className:"px-3 py-1.5 text-sm bg-blue-600 text-white rounded-md flex items-center",children:[d&&(0,a.jsx)(O.Z,{className:"animate-spin mr-2",size:16}),"Confirm & Send"]})]})]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"flex flex-wrap gap-2 mb-3",children:r.length<=1&&z.map(e=>(0,a.jsx)("button",{onClick:()=>w(e),className:"px-3 py-1.5 bg-gray-100 dark:bg-gray-700 border border-gray-300 dark:border-gray-600 rounded-full text-sm hover:bg-gray-200 dark:hover:bg-gray-600",children:e},e))}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)("textarea",{value:l,onChange:e=>c(e.target.value),onKeyDown:e=>{"Enter"!==e.key||e.shiftKey||(e.preventDefault(),w())},placeholder:"Ask anything about your business...",className:"w-full p-3 pr-12 border rounded-lg resize-none focus:outline-none focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:border-gray-600",rows:1,disabled:d}),(0,a.jsx)("button",{onClick:()=>w(),disabled:d||!l.trim(),className:"absolute right-3 top-1/2 -translate-y-1/2 p-2 rounded-full bg-blue-500 text-white hover:bg-blue-600 disabled:bg-gray-400",children:(0,a.jsx)(I.Z,{size:18})})]})]})})]})})})},D=e=>{let{children:t}=e,{data:r,status:s}=(0,l.useSession)();return"loading"===s?(0,a.jsx)("div",{className:"flex items-center justify-center h-screen w-full",children:(0,a.jsx)(w.Z,{})}):"authenticated"!==s||r.user.hasCompletedOnboarding?(0,a.jsxs)("div",{className:"h-screen w-screen flex bg-[var(--background)] antialiased text-gray-800 dark:text-gray-200",children:[(0,a.jsx)(j,{}),(0,a.jsx)(d,{}),(0,a.jsx)("main",{className:"flex-1 h-full w-full overflow-y-auto",children:t}),"authenticated"===s&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(E,{}),(0,a.jsx)(P,{})]})]}):(0,a.jsx)(Z,{})}},1982:function(e,t,r){"use strict";r.d(t,{Providers:function(){return l}});var a=r(7437);r(2265);var s=r(998),n=r(65),i=r(4127);function l(e){let{children:t}=e;return(0,a.jsx)(s.SessionProvider,{children:(0,a.jsx)(n.f,{children:(0,a.jsx)(i.R,{children:t})})})}},1065:function(e,t,r){"use strict";var a=r(7437);r(2265),t.Z=e=>{let{initials:t,className:r=""}=e;return(0,a.jsx)("div",{className:"flex items-center justify-center h-10 w-10 rounded-full bg-gray-300 text-gray-600 font-bold ".concat(r),children:t})}},9788:function(e,t,r){"use strict";var a=r(7437);r(2265);var s=r(4207),n=r(6780),i=r(8711),l=r(2468),o=r(2638),c=r(933),d=r(8314),u=r(6935),h=r(1077),m=r(7164),x=r(6649),g=r(9827),f=r(2023),p=r(404),b=r(8604),y=r(7140),v=r(9100),j=r(4453),w=r(7583),k=r(7524),N=r(6863),C=r(5404),Z=r(4258),S=r(1510),E=r(1125),_=r(3907),O=r(8637),I=r(883),z=r(2022),P=r(3267),D=r(9099),L=r(1240),R=r(4697);let T={activity:s.Z,alertCircle:n.Z,barChart3:i.Z,check:l.Z,checkCheck:o.Z,clock:c.Z,combine:d.Z,creditCard:u.Z,dollarSign:h.Z,download:m.Z,edit:x.Z,file:g.Z,fileText:f.Z,filter:p.Z,image:b.Z,layoutDashboard:y.Z,lineChart:v.Z,lock:j.Z,messageCircle:w.Z,package:k.Z,pieChart:N.Z,radio:C.Z,settings:Z.Z,share2:S.Z,slidersHorizontal:E.Z,sparkles:_.Z,sunrise:O.Z,trash2:I.Z,user:z.Z,userPlus:P.Z,userX:D.Z,users:L.Z,x:R.Z},A=e=>e?e.charAt(0).toLowerCase()+e.slice(1):"alertCircle";t.Z=e=>{let{name:t,...r}=e,s=A(t),i=T[s];return i?(0,a.jsx)(i,{...r}):(console.warn('Icon "'.concat(t,'" (normalized to "').concat(s,'") not found in the icon map. Rendering a fallback icon.')),(0,a.jsx)(n.Z,{...r,color:"red"}))}},3258:function(e,t,r){"use strict";var a=r(7437);r(2265),t.Z=()=>(0,a.jsxs)("div",{className:"flex flex-col items-center justify-center p-8",role:"status","aria-label":"Loading",children:[(0,a.jsxs)("svg",{width:"80",height:"80",viewBox:"0 0 100 100",xmlns:"http://www.w3.org/2000/svg",className:"text-blue-600",children:[(0,a.jsxs)("g",{style:{animation:"vc-pulse-bubble 2.5s infinite ease-in-out",transformOrigin:"center"},children:[(0,a.jsx)("path",{d:"M85,50 A35,35 0 1,1 15,50 A35,35 0 0,1 85,50 Z",fill:"currentColor",fillOpacity:"0.1"}),(0,a.jsx)("path",{d:"M20,70 Q30,85 40,70 L20,70 Z",fill:"currentColor",fillOpacity:"0.1"})]}),(0,a.jsx)("path",{style:{strokeDasharray:90,strokeDashoffset:90,animation:"vc-draw-v 1.5s ease-out forwards infinite"},d:"M30 35 L 50 58 L 70 35",stroke:"currentColor",strokeWidth:"5",strokeLinecap:"round",strokeLinejoin:"round",fill:"none"}),(0,a.jsxs)("g",{className:"text-gray-400",fill:"currentColor",children:[(0,a.jsx)("circle",{style:{animation:"vc-blink-ellipsis 1.4s infinite 0s"},cx:"38",cy:"72",r:"3"}),(0,a.jsx)("circle",{style:{animation:"vc-blink-ellipsis 1.4s infinite 0.2s"},cx:"50",cy:"72",r:"3"}),(0,a.jsx)("circle",{style:{animation:"vc-blink-ellipsis 1.4s infinite 0.4s"},cx:"62",cy:"72",r:"3"})]})]}),(0,a.jsx)("p",{className:"text-gray-500 mt-2 text-sm font-medium animate-pulse",children:"Connecting..."})]})},4127:function(e,t,r){"use strict";r.d(t,{K:function(){return l},R:function(){return i}});var a=r(7437),s=r(2265);let n=(0,s.createContext)(void 0),i=e=>{let{children:t}=e,[r,i]=(0,s.useState)(!1);return(0,a.jsx)(n.Provider,{value:{isOpen:r,openModal:()=>i(!0),closeModal:()=>i(!1)},children:t})},l=()=>{let e=(0,s.useContext)(n);if(!e)throw Error("useAIModal must be used within an AIModalProvider");return e}},65:function(e,t,r){"use strict";r.d(t,{F:function(){return o},f:function(){return l}});var a=r(7437),s=r(2265);let n=(0,s.createContext)(void 0),i=()=>{if(window.localStorage){let e=localStorage.getItem("theme");if(e&&["signature","sunrise-glow","light","dark"].includes(e))return e}return"signature"},l=e=>{let{children:t}=e,[r,l]=(0,s.useState)(i);return(0,s.useEffect)(()=>{let e=window.document.documentElement;e.classList.remove("light","dark","sunrise-glow"),"signature"!==r&&e.classList.add(r),localStorage.setItem("theme",r)},[r]),(0,a.jsx)(n.Provider,{value:{theme:r,toggleTheme:()=>{l(e=>"signature"===e?"sunrise-glow":"sunrise-glow"===e?"light":"light"===e?"dark":"signature")}},children:t})},o=()=>{let e=(0,s.useContext)(n);if(!e)throw Error("useTheme must be used within a ThemeProvider");return e}},3054:function(){},3564:function(e){e.exports={style:{fontFamily:"'__Inter_f367f3', '__Inter_Fallback_f367f3'",fontStyle:"normal"},className:"__className_f367f3",variable:"__variable_f367f3"}},9700:function(e){e.exports={style:{fontFamily:"'__JetBrains_Mono_3c557b', '__JetBrains_Mono_Fallback_3c557b'",fontStyle:"normal"},className:"__className_3c557b",variable:"__variable_3c557b"}},4446:function(e,t,r){"use strict";r.d(t,{M:function(){return p}});var a=r(7437),s=r(2265),n=r(5050),i=r(458),l=r(7797),o=r(9791);class c extends s.Component{getSnapshotBeforeUpdate(e){let t=this.props.childRef.current;if(t&&e.isPresent&&!this.props.isPresent){let e=this.props.sizeRef.current;e.height=t.offsetHeight||0,e.width=t.offsetWidth||0,e.top=t.offsetTop,e.left=t.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function d(e){let{children:t,isPresent:r}=e,n=(0,s.useId)(),i=(0,s.useRef)(null),l=(0,s.useRef)({width:0,height:0,top:0,left:0}),{nonce:d}=(0,s.useContext)(o._);return(0,s.useInsertionEffect)(()=>{let{width:e,height:t,top:a,left:s}=l.current;if(r||!i.current||!e||!t)return;i.current.dataset.motionPopId=n;let o=document.createElement("style");return d&&(o.nonce=d),document.head.appendChild(o),o.sheet&&o.sheet.insertRule('\n          [data-motion-pop-id="'.concat(n,'"] {\n            position: absolute !important;\n            width: ').concat(e,"px !important;\n            height: ").concat(t,"px !important;\n            top: ").concat(a,"px !important;\n            left: ").concat(s,"px !important;\n          }\n        ")),()=>{document.head.removeChild(o)}},[r]),(0,a.jsx)(c,{isPresent:r,childRef:i,sizeRef:l,children:s.cloneElement(t,{ref:i})})}let u=e=>{let{children:t,initial:r,isPresent:n,onExitComplete:o,custom:c,presenceAffectsLayout:u,mode:m}=e,x=(0,i.h)(h),g=(0,s.useId)(),f=(0,s.useCallback)(e=>{for(let t of(x.set(e,!0),x.values()))if(!t)return;o&&o()},[x,o]),p=(0,s.useMemo)(()=>({id:g,initial:r,isPresent:n,custom:c,onExitComplete:f,register:e=>(x.set(e,!1),()=>x.delete(e))}),u?[Math.random(),f]:[n,f]);return(0,s.useMemo)(()=>{x.forEach((e,t)=>x.set(t,!1))},[n]),s.useEffect(()=>{n||x.size||!o||o()},[n]),"popLayout"===m&&(t=(0,a.jsx)(d,{isPresent:n,children:t})),(0,a.jsx)(l.O.Provider,{value:p,children:t})};function h(){return new Map}var m=r(3241);let x=e=>e.key||"";function g(e){let t=[];return s.Children.forEach(e,e=>{(0,s.isValidElement)(e)&&t.push(e)}),t}var f=r(9033);let p=e=>{let{children:t,custom:r,initial:l=!0,onExitComplete:o,presenceAffectsLayout:c=!0,mode:d="sync",propagate:h=!1}=e,[p,b]=(0,m.oO)(h),y=(0,s.useMemo)(()=>g(t),[t]),v=h&&!p?[]:y.map(x),j=(0,s.useRef)(!0),w=(0,s.useRef)(y),k=(0,i.h)(()=>new Map),[N,C]=(0,s.useState)(y),[Z,S]=(0,s.useState)(y);(0,f.L)(()=>{j.current=!1,w.current=y;for(let e=0;e<Z.length;e++){let t=x(Z[e]);v.includes(t)?k.delete(t):!0!==k.get(t)&&k.set(t,!1)}},[Z,v.length,v.join("-")]);let E=[];if(y!==N){let e=[...y];for(let t=0;t<Z.length;t++){let r=Z[t],a=x(r);v.includes(a)||(e.splice(t,0,r),E.push(r))}"wait"===d&&E.length&&(e=E),S(g(e)),C(y);return}let{forceRender:_}=(0,s.useContext)(n.p);return(0,a.jsx)(a.Fragment,{children:Z.map(e=>{let t=x(e),s=(!h||!!p)&&(y===Z||v.includes(t));return(0,a.jsx)(u,{isPresent:s,initial:(!j.current||!!l)&&void 0,custom:s?void 0:r,presenceAffectsLayout:c,mode:d,onExitComplete:s?void 0:()=>{if(!k.has(t))return;k.set(t,!0);let e=!0;k.forEach(t=>{t||(e=!1)}),e&&(null==_||_(),S(w.current),h&&(null==b||b()),o&&o())},children:e},t)})})}}},function(e){e.O(0,[445,862,138,213,849,971,23,744],function(){return e(e.s=3078)}),_N_E=e.O()}]);