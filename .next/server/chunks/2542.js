"use strict";exports.id=2542,exports.ids=[2542],exports.modules={12714:(e,s,a)=>{a.d(s,{Z:()=>t});/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let t=(0,a(62881).Z)("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},50919:(e,s,a)=>{a.d(s,{Z:()=>d});var t=a(10326);a(17577);var r=a(17334);let l=()=>(0,t.jsxs)("div",{className:"bg-white dark:bg-gray-800 p-4 rounded-lg border dark:border-gray-700",children:[(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-6 gap-4 items-center",children:[(0,t.jsxs)("div",{className:"md:col-span-3 space-y-2",children:[t.jsx(r.Z,{className:"h-6 w-3/5"}),t.jsx(r.Z,{className:"h-4 w-4/5"})]}),t.jsx("div",{className:"md:col-span-1",children:t.jsx(r.Z,{className:"h-6 w-3/4"})}),t.jsx("div",{className:"md:col-span-2 flex justify-start md:justify-end",children:t.jsx(r.Z,{className:"h-6 w-20 rounded-full"})})]}),(0,t.jsxs)("div",{className:"border-t dark:border-gray-700 mt-3 pt-3 flex justify-between items-center",children:[t.jsx(r.Z,{className:"h-4 w-1/3"}),(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[t.jsx(r.Z,{className:"h-8 w-8 rounded-full"}),t.jsx(r.Z,{className:"h-8 w-8 rounded-full"})]})]})]}),d=()=>(0,t.jsxs)("div",{className:"p-6 md:p-8",children:[(0,t.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,t.jsxs)("div",{children:[t.jsx(r.Z,{className:"h-8 w-64"}),t.jsx(r.Z,{className:"h-4 w-80 mt-2"})]}),t.jsx(r.Z,{className:"h-10 w-28 rounded-md"})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-6",children:[t.jsx("div",{className:"lg:col-span-3 space-y-4",children:[void 0,void 0,void 0,void 0].map((e,s)=>t.jsx(l,{},s))}),t.jsx("div",{className:"lg:col-span-1",children:(0,t.jsxs)("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-lg border dark:border-gray-700 text-center",children:[t.jsx(r.Z,{className:"h-12 w-16 mx-auto"}),t.jsx(r.Z,{className:"h-4 w-32 mx-auto mt-2"})]})})]})]})},98177:(e,s,a)=>{a.d(s,{Z:()=>c});var t=a(10326),r=a(17577),l=a(28676);let d=["DRAFT","SENT","CONFIRMED","BILLED","PARTIALLY_PAID","PAID","CANCELLED"],c=({isOpen:e,onClose:s,currentFilters:a,onApplyFilters:c})=>{let[n,i]=(0,r.useState)(a.statuses),x=e=>{i(s=>s.includes(e)?s.filter(s=>s!==e):[...s,e])};return t.jsx(l.Z,{isOpen:e,onClose:s,title:"Filter Transactions",children:(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{children:[t.jsx("label",{className:"text-sm font-medium",children:"Status"}),t.jsx("div",{className:"grid grid-cols-2 gap-2 mt-1",children:d.map(e=>(0,t.jsxs)("label",{className:"flex items-center space-x-2 p-1 rounded hover:bg-gray-100 cursor-pointer",children:[t.jsx("input",{type:"checkbox",checked:n.includes(e),onChange:()=>x(e),className:"h-4 w-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),t.jsx("span",{className:"text-sm capitalize",children:e.replace("_"," ").toLowerCase()})]},e))})]}),(0,t.jsxs)("div",{className:"flex justify-between items-center pt-2",children:[t.jsx("button",{onClick:()=>{i([]),c({statuses:[]})},className:"px-4 py-2 text-sm text-gray-600 hover:bg-gray-100 border rounded-md",children:"Reset"}),(0,t.jsxs)("div",{className:"flex space-x-2",children:[t.jsx("button",{onClick:s,className:"px-4 py-2 border rounded-md text-sm",children:"Cancel"}),t.jsx("button",{onClick:()=>{c({statuses:n})},className:"px-4 py-2 bg-blue-600 text-white rounded-md text-sm",children:"Apply Filters"})]})]})]})})}},52810:(e,s,a)=>{a.d(s,{Z:()=>l});var t=a(10326);a(17577);let r={DRAFT:{label:"Draft",className:"bg-gray-100 text-gray-700"},SENT:{label:"Sent",className:"bg-blue-100 text-blue-700"},CONFIRMED:{label:"Confirmed",className:"bg-indigo-100 text-indigo-700"},BILLED:{label:"Billed",className:"bg-purple-100 text-purple-700"},PARTIALLY_PAID:{label:"Partially Paid",className:"bg-yellow-100 text-yellow-800"},PAID:{label:"Paid",className:"bg-green-100 text-green-700"},CANCELLED:{label:"Cancelled",className:"bg-red-100 text-red-700"}},l=({status:e})=>{let s=r[e]||{label:"Unknown",className:"bg-gray-100 text-gray-700"};return t.jsx("span",{className:`px-2.5 py-1 text-xs font-semibold rounded-full inline-block ${s.className}`,children:s.label})}},74075:(e,s,a)=>{a.d(s,{Z:()=>x});var t=a(10326);a(17577);var r=a(90434),l=a(52810),d=a(64590),c=a(12714),n=a(30058),i=a(78539);let x=({transaction:e,onViewDetails:s})=>(0,t.jsxs)(n.E.div,{className:"bg-white dark:bg-[var(--card-background)] p-4 rounded-lg shadow-sm border dark:border-[var(--card-border)] hover:shadow-md transition-shadow duration-200 flex flex-col",children:[(0,t.jsxs)("div",{className:"flex-grow grid grid-cols-1 md:grid-cols-6 gap-4 items-center",children:[(0,t.jsxs)("div",{className:"md:col-span-3",children:[t.jsx("p",{className:"font-bold text-gray-800 dark:text-gray-100 text-lg",children:e.customerName}),t.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300 truncate",children:e.itemsSummary})]}),t.jsx("div",{className:"md:col-span-1 text-left md:text-right",children:(0,t.jsxs)("p",{className:"font-semibold text-lg dark:text-gray-100",children:["₹",e.totalValue.toLocaleString("en-IN")]})}),t.jsx("div",{className:"md:col-span-2 flex justify-start md:justify-end",children:t.jsx(l.Z,{status:e.status})})]}),(0,t.jsxs)("div",{className:"border-t dark:border-[var(--card-border)] mt-3 pt-3 flex justify-between items-center text-sm text-gray-500 dark:text-gray-400",children:[(0,t.jsxs)("div",{children:["ID: ",(0,t.jsxs)("span",{className:"font-mono text-xs",children:[e.id.substring(0,8),"..."]}),t.jsx("span",{className:"mx-2",children:"|"}),(0,d.WU)(new Date(e.date),"dd MMM, yyyy")]}),(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[t.jsx(r.default,{href:`/chat?contactId=${e.contactId}`,className:"p-2 text-green-600 bg-green-50 dark:bg-green-900/30 dark:text-green-400 hover:bg-green-100 dark:hover:bg-green-900/50 rounded-full",title:"Chat on WhatsApp",children:t.jsx(i.Z,{name:"messageCircle",size:18})}),t.jsx("button",{onClick:s,className:"p-2 text-gray-600 dark:text-gray-300 bg-gray-100 dark:bg-gray-700 hover:bg-gray-200 dark:hover:bg-gray-600 rounded-full",title:"View Details",children:t.jsx(c.Z,{size:18})})]})]})]})},98463:(e,s,a)=>{a.d(s,{Z:()=>i});var t=a(10326),r=a(17577),l=a(28676),d=a(52810),c=a(64590),n=a(77506);let i=({quotationId:e,isOpen:s,onClose:a})=>{let[i,x]=(0,r.useState)(null),[o,m]=(0,r.useState)(!0);(0,r.useEffect)(()=>{s&&e&&(async()=>{m(!0);try{let s=await fetch(`/api/quotations/${e}`);if(!s.ok)throw Error("Failed to fetch details.");let a=await s.json();x(a)}catch(e){console.error(e)}finally{m(!1)}})()},[s,e]);let h=i?.payments?.reduce((e,s)=>e+s.amount,0)||0,g=(i?.total||0)-h;return t.jsx(l.Z,{isOpen:s,onClose:a,title:`Transaction #${e.substring(0,8)}`,children:o?t.jsx("div",{className:"text-center p-8",children:t.jsx(n.Z,{className:"animate-spin inline-block"})}):i?(0,t.jsxs)("div",{className:"space-y-4 text-sm",children:[(0,t.jsxs)("div",{className:"flex justify-between items-start",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)("p",{children:[t.jsx("strong",{children:"To:"})," ",i.customerName]}),(0,t.jsxs)("p",{children:[t.jsx("strong",{children:"Date:"})," ",(0,c.WU)(new Date(i.createdAt),"PP")]})]}),t.jsx(d.Z,{status:i.status})]}),(0,t.jsxs)("div",{children:[t.jsx("h4",{className:"font-semibold mb-1",children:"Items"}),(0,t.jsxs)("table",{className:"w-full text-left",children:[t.jsx("thead",{className:"bg-gray-50 dark:bg-gray-700/50 text-xs",children:(0,t.jsxs)("tr",{children:[t.jsx("th",{className:"p-2 font-medium",children:"Product"}),t.jsx("th",{className:"p-2 font-medium text-center",children:"Qty"}),t.jsx("th",{className:"p-2 font-medium text-right",children:"Total"})]})}),t.jsx("tbody",{children:i.items.map(e=>(0,t.jsxs)("tr",{className:"border-b dark:border-gray-700",children:[t.jsx("td",{className:"p-2",children:e.product?.name}),t.jsx("td",{className:"p-2 text-center",children:e.quantity}),(0,t.jsxs)("td",{className:"p-2 text-right",children:["₹",(e.price*e.quantity).toLocaleString()]})]},e.id))})]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{children:[t.jsx("h4",{className:"font-semibold mb-1",children:"Pricing"}),(0,t.jsxs)("div",{className:"p-3 bg-gray-50 dark:bg-gray-700/50 rounded-md space-y-1",children:[(0,t.jsxs)("p",{className:"flex justify-between",children:[t.jsx("span",{children:"Subtotal:"})," ",(0,t.jsxs)("span",{children:["₹",i.subtotal.toLocaleString()]})]}),i.discountPercentage&&(0,t.jsxs)("p",{className:"flex justify-between",children:[t.jsx("span",{children:"Discount:"})," ",(0,t.jsxs)("span",{children:["(",i.discountPercentage,"%)"]})]}),i.taxRate&&(0,t.jsxs)("p",{className:"flex justify-between",children:[t.jsx("span",{children:"Tax:"})," ",(0,t.jsxs)("span",{children:["(",i.taxRate,"%)"]})]}),i.deliveryCharges&&(0,t.jsxs)("p",{className:"flex justify-between",children:[t.jsx("span",{children:"Delivery:"})," ",(0,t.jsxs)("span",{children:["₹",i.deliveryCharges.toLocaleString()]})]}),(0,t.jsxs)("p",{className:"flex justify-between font-bold border-t dark:border-gray-600 pt-1 mt-1",children:[t.jsx("span",{children:"Total:"})," ",(0,t.jsxs)("span",{children:["₹",i.total.toLocaleString()]})]})]})]}),(0,t.jsxs)("div",{children:[t.jsx("h4",{className:"font-semibold mb-1",children:"Payments"}),(0,t.jsxs)("div",{className:"p-3 bg-gray-50 dark:bg-gray-700/50 rounded-md space-y-1",children:[i.payments?.map(e=>t.jsxs("p",{className:"flex justify-between",children:[t.jsxs("span",{children:[e.method," (",c.WU(new Date(e.createdAt),"dd/MM/yy"),")"]})," ",t.jsxs("span",{children:["₹",e.amount.toLocaleString()]})]},e.id)),i.payments?.length===0&&t.jsx("p",{className:"text-gray-500 text-xs",children:"No payments recorded."}),(0,t.jsxs)("p",{className:"flex justify-between font-bold text-green-600 border-t dark:border-gray-600 pt-1 mt-1",children:[t.jsx("span",{children:"Paid:"})," ",(0,t.jsxs)("span",{children:["₹",h.toLocaleString()]})]}),(0,t.jsxs)("p",{className:"flex justify-between font-bold text-red-600",children:[t.jsx("span",{children:"Due:"})," ",(0,t.jsxs)("span",{children:["₹",g.toLocaleString()]})]})]})]})]})]}):t.jsx("p",{className:"text-center p-8 text-red-500",children:"Could not load transaction details."})})}},28676:(e,s,a)=>{a.d(s,{Z:()=>r});var t=a(10326);a(17577);let r=({isOpen:e,onClose:s,title:a,children:r})=>e?t.jsx("div",{className:"fixed inset-0 bg-black/60 flex items-center justify-center z-50",onClick:s,children:(0,t.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-xl w-full max-w-md m-4",onClick:e=>e.stopPropagation(),children:[(0,t.jsxs)("div",{className:"p-4 border-b border-gray-200 dark:border-gray-700 flex justify-between items-center",children:[t.jsx("h2",{className:"text-lg font-semibold text-gray-800 dark:text-gray-100",children:a}),t.jsx("button",{onClick:s,className:"text-gray-500 dark:text-gray-300 hover:text-gray-800 dark:hover:text-gray-100",children:"\xd7"})]}),t.jsx("div",{className:"p-4",children:r})]})}):null},17334:(e,s,a)=>{a.d(s,{Z:()=>r});var t=a(10326);a(17577);let r=({className:e,...s})=>t.jsx("div",{className:function(...e){return e.filter(Boolean).join(" ")}("animate-pulse rounded-md bg-gray-200 dark:bg-gray-700",e),...s})}};